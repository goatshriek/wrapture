#!/usr/bin/env ruby

# frozen_string_literal: true

require 'yaml'
require 'wrapture'

scope = Wrapture::Scope.new

ARGV.each do |spec_file|
  spec = YAML.load_file(spec_file)

  spec.fetch('templates', []).each do |temp_spec|
    scope << Wrapture::TemplateSpec.new(temp_spec)
  end

  spec['classes'].each do |class_spec|
    scope.add_class_spec_hash(class_spec)
  end
end

scope.generate_wrappers
